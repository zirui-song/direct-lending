---
title: "Clean_Contracts"
output: html_document
date: "2024-08-17"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
## R Markdown
library(data.table)
library(dplyr)
library(haven)
library(stringr)
library(mvtnorm)
library(tidyr)
library(readxl)
library(stargazer)
library(readr)
library(ncdf4)

options(scipen = 999)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))

rm(list = ls())

# read nc file from folder /Users/zrsong/Dropbox (MIT)/Research Projects/Direct Lending/Data/Original_loan_contracts/2020-2023/2020_1/2020_1
# write the path of the nc file

agreements_list <- fread("../Data/agreements.csv")
# generate year for contract
agreements_list$year <- as.numeric(substr(agreements_list$File.Name, 1, 4))
agreements_2010onward <- agreements_list %>% filter(year >= 2010)

# read an textedit file from folder Data, what function to use
text_data <- readLines("../Data/test.nc")
print(text_data)
```